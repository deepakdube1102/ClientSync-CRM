{% extends 'base.html' %}
{% block content %}

<div class="col-md-6 offset-md-3" style="max-height: 80vh; overflow-y: auto;">
  <h1 class="text-center mb-3">Add Record</h1>

  <form method="POST" enctype="multipart/form-data" action="{% url 'add_record' %}" class="mb-3">
    {% csrf_token %}

    <div style="font-size: 0.9em;">
      {{ form.as_p }}
    </div>

    <div class="d-flex flex-wrap justify-content-between align-items-center mt-3">
      <button type="submit" name="add_record" class="btn btn-success mb-2">Add Record</button>
      <div>
        <input type="file" name="file" accept=".csv" id="file_input" style="display: none;">
        <label for="file_input" class="btn btn-primary mb-2">Choose CSV File</label>
        <button type="submit" name="import_data" class="btn btn-info mb-2">Import Data</button>
        <a href="{% url 'main' %}" class="btn btn-secondary mb-2">Back</a>
      </div>
    </div>
  </form>
</div>

<script>
  document.getElementById('file_input').addEventListener('change', function() {
    var fileName = this.files[0].name;
    this.nextElementSibling.textContent = fileName;
  });
</script>

{% endblock %}